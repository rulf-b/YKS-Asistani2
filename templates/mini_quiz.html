{% extends "layout.html" %}
{% block content %}
    <h2 class="text-primary mb-4"><i class="bi bi-patch-question-fill me-2"></i> Mini Quiz: Eksiklerini Gider!</h2>
    <p class="text-muted mb-3">Geçmişte "Bilgi Eksikliği" olarak belirlenen konularından rastgele bir quiz oluşturuldu.</p>
    
    {# YENİ: Quiz Konuları boşsa farklı mesaj #}
    {% if not konular %}
        <div class="alert alert-info mt-4 p-4 card shadow-sm text-center">
            <i class="bi bi-info-circle-fill display-4 mb-3"></i>
            <h4 class="card-title text-info">Tekrar listenizde hiç konu yok!</h4>
            <p class="card-text">Quiz oluşturabilmem için lütfen önce <a href="{{ url_for('soru_analizi') }}" class="text-info fw-bold text-decoration-none">Soru Analizi</a> yaparak eksik konularını belirle.</p>
        </div>
    {% else %}
        <p class="text-muted mb-4"><strong>Quiz Konuları:</strong> <span class="fw-bold text-dark">{{ konular|join(', ') }}</span></p>
        <div class="mb-5 text-center">
            <a href="{{ url_for('mini_quiz') }}" class="btn btn-primary btn-lg"><i class="bi bi-arrow-clockwise me-2"></i> Farklı Konulardan Yeni Quiz Oluştur</a>
        </div>

        <hr class="my-5">
        
        <div class="quiz-icerigi card shadow-sm p-4" style="white-space: pre-wrap; background-color: var(--card-bg); font-family: 'Inter', sans-serif; line-height: 1.8;">
            {{ quiz_icerigi|markdown }}
        </div>
    {% endif %}
{% endblock content %}